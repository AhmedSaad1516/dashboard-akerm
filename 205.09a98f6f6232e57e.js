"use strict";(self.webpackChunkbabiChechaDashboard=self.webpackChunkbabiChechaDashboard||[]).push([[205],{1205:(R,m,r)=>{r.r(m),r.d(m,{MarketMedicinesModule:()=>G});var c=r(6895),p=r(8996),A=r(7579),l=r(4006),g=r(5938),k=r(1283),e=r(4650),Z=r(529);let h=(()=>{class a{constructor(t){this.http=t}getAllMarketMedicines(){return this.http.get("http://www.akremplatform.somee.com/api/MarketMedicines/GetAll")}getAllMedicineCategories(){return this.http.get("http://www.akremplatform.somee.com/api/MedicineCategories/GetAll")}getWarehouses(){return this.http.get("http://www.akremplatform.somee.com/api/Warehouses/GetAll")}addMedicineCategories(t){return this.http.post("http://www.akremplatform.somee.com/api/MarketMedicines/Create",t)}editMedicineCategories(t,i){return this.http.put(`http://www.akremplatform.somee.com/api/MarketMedicines/Edit?id=${i}`,t)}toggleDeletMarketMedicines(t){return this.http.post(`http://www.akremplatform.somee.com/api/MarketMedicines/ToggleSoftDelete?id=${t}`,{})}DeletMarketMedicines(t){return this.http.delete(`http://www.akremplatform.somee.com/api/MarketMedicines/DeletePermanently?id=${t}`,{})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Z.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var f=r(2018),T=r(455),b=r(8796),_=r(8372);function w(a,o){1&a&&e._UZ(0,"app-loader")}function x(a,o){1&a&&(e.TgZ(0,"h3",22),e._uU(1,"Add Market Information"),e.qZA())}function C(a,o){1&a&&(e.TgZ(0,"h3",22),e._uU(1,"Edit Market Information"),e.qZA())}function y(a,o){if(1&a&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.Oqu(t.name)}}function U(a,o){1&a&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Please add required data! "),e.qZA())}function q(a,o){1&a&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Please add required data! "),e.qZA())}function D(a,o){if(1&a&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.Oqu(t.name)}}function I(a,o){1&a&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Please add required data! "),e.qZA())}function O(a,o){1&a&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Please add required data! "),e.qZA())}function S(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addMedicineCategories())}),e._uU(1," Add "),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.formAddMarket.invalid)}}function J(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.editMedicineCategories())}),e._uU(1," Update "),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.formAddMarket.invalid)}}let M=(()=>{class a{constructor(t,i,n,s,d,u){this.fb=t,this.serv=i,this.toaster=n,this.data=s,this.matDialog=d,this.dialog=u,this.loader=!1,this.market=[],this.allStorage=[]}ngOnInit(){this.createForm(),this.getAllMarket(),this.getAlllStorage()}createForm(){this.formAddMarket=this.fb.group({medicineCategoryId:[this.data?.medicineCategory||"",l.kI.required],expirationDate:[this.data?.expirationDate||"",l.kI.required],storageId:[this.data?.medicineCategory||"",l.kI.required],availableForSale:[this.data?.storage||"",l.kI.required]}),console.log(this.formAddMarket.value),this.formValues=this.formAddMarket.value}close(){let t=!1;Object.keys(this.formValues).forEach(i=>{this.formValues[i]!==this.formAddMarket.value[i]&&(t=!0)}),t?this.matDialog.open(k.f,{disableClose:!0}).afterClosed().subscribe(n=>{}):this.dialog.close()}getAllMarket(){this.serv.getAllMedicineCategories().subscribe(t=>{this.market=t.content})}getAlllStorage(){this.serv.getWarehouses().subscribe(t=>{this.allStorage=t.content})}addMedicineCategories(){this.formAddMarket.invalid?this.formAddMarket.markAllAsTouched():(this.loader=!0,this.serv.addMedicineCategories(this.formAddMarket.value).subscribe(t=>{this.toaster.success("Added Branches successfully","",{progressBar:!0,timeOut:4e3,closeButton:!0});let i=new Audio;i.src="../../../assets/notification-sound/login.wav",i.load(),i.play(),this.loader=!1,this.dialog.close(!0)},t=>{this.loader=!1,this.toaster.error("Error adding partner","",{progressBar:!0,timeOut:4e3,closeButton:!0})}))}editMedicineCategories(){this.loader=!0,this.serv.editMedicineCategories(this.formAddMarket.value,this.data.id).subscribe(t=>{this.toaster.success("Edit partner successfully","",{progressBar:!0,timeOut:4e3,closeButton:!0});let i=new Audio;i.src="../../../assets/notification-sound/login.wav",i.load(),i.play(),this.loader=!1,this.dialog.close(!0)},t=>{this.loader=!1,this.toaster.error("Error editing partner","",{progressBar:!0,timeOut:4e3,closeButton:!0})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(h),e.Y36(f._W),e.Y36(g.WI),e.Y36(g.uw),e.Y36(g.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-market"]],decls:35,vars:14,consts:[[4,"ngIf"],[1,"modal-content","p-3","p-md-5"],[1,"modal-body"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"text-center","mb-4"],["class","mb-2",4,"ngIf"],["id","editUserForm","novalidate","novalidate",1,"row","g-3","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup"],[1,"col-12","col-md-6"],["for","modalEditUserStatus",1,"form-label"],["formControlName","medicineCategoryId",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger d-flex align-items-center","role","alert",4,"ngIf"],[1,"col-12","col-md-6","fv-plugins-icon-container"],["for","modalEditUserFirstName",1,"form-label"],["formControlName","expirationDate","type","date","id","modalEditUserFirstName","name","modalEditUserFirstName","placeholder","Add ExpirationDate",1,"form-control"],["formControlName","storageId",3,"multiple"],[1,"col-6","col-md-6","fv-plugins-icon-container",2,"margin-top","45px"],["formControlName","availableForSale"],[1,"col-12","text-center"],["type","submit","class","btn btn-success me-sm-3 me-1 waves-effect waves-light",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary me-sm-3 me-1 waves-effect waves-light",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-label-secondary","waves-effect",3,"click"],[1,"mb-2"],[3,"value"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center"],[1,"alert-icon","text-danger","me-2"],[1,"ti","ti-ban","ti-xs"],["type","submit",1,"btn","btn-success","me-sm-3","me-1","waves-effect","waves-light",3,"disabled","click"],["type","submit",1,"btn","btn-primary","me-sm-3","me-1","waves-effect","waves-light",3,"disabled","click"]],template:function(t,i){if(1&t&&(e.YNc(0,w,1,0,"app-loader",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"button",3),e.TgZ(4,"div",4),e.YNc(5,x,2,0,"h3",5),e.YNc(6,C,2,0,"h3",5),e.qZA(),e.TgZ(7,"form",6)(8,"div",7)(9,"label",8),e._uU(10,"Choose Medicine"),e.qZA(),e.TgZ(11,"ng-select",9),e.YNc(12,y,2,2,"ng-option",10),e.qZA(),e.YNc(13,U,4,0,"div",11),e.qZA(),e.TgZ(14,"div",12)(15,"label",13),e._uU(16,"Expiration Date"),e.qZA(),e._UZ(17,"input",14),e.YNc(18,q,4,0,"div",11),e.qZA(),e.TgZ(19,"div",7)(20,"label",8),e._uU(21,"Choose Storage"),e.qZA(),e.TgZ(22,"ng-select",15),e.YNc(23,D,2,2,"ng-option",10),e.qZA(),e.YNc(24,I,4,0,"div",11),e.qZA(),e.TgZ(25,"div",16)(26,"p")(27,"mat-slide-toggle",17),e._uU(28,"available For Sale!"),e.qZA()(),e.YNc(29,O,4,0,"div",11),e.qZA(),e.TgZ(30,"div",18),e.YNc(31,S,2,1,"button",19),e.YNc(32,J,2,1,"button",20),e.TgZ(33,"button",21),e.NdJ("click",function(){return i.close()}),e._uU(34," Cancel "),e.qZA()()()()()),2&t){let n,s,d,u;e.Q6J("ngIf",i.loader),e.xp6(5),e.Q6J("ngIf",!i.data),e.xp6(1),e.Q6J("ngIf",i.data),e.xp6(1),e.Q6J("formGroup",i.formAddMarket),e.xp6(4),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngForOf",i.market),e.xp6(1),e.Q6J("ngIf",(null==(n=i.formAddMarket.get("medicineCategoryId"))?null:n.touched)&&(null==(n=i.formAddMarket.get("medicineCategoryId"))?null:n.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(s=i.formAddMarket.get("expirationDate"))?null:s.touched)&&(null==(s=i.formAddMarket.get("expirationDate"))?null:s.invalid)),e.xp6(4),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngForOf",i.allStorage),e.xp6(1),e.Q6J("ngIf",(null==(d=i.formAddMarket.get("storageId"))?null:d.touched)&&(null==(d=i.formAddMarket.get("storageId"))?null:d.invalid)),e.xp6(5),e.Q6J("ngIf",(null==(u=i.formAddMarket.get("availableForSale"))?null:u.touched)&&(null==(u=i.formAddMarket.get("availableForSale"))?null:u.invalid)),e.xp6(2),e.Q6J("ngIf",!i.data),e.xp6(1),e.Q6J("ngIf",i.data)}},dependencies:[c.sg,c.O5,T.Rr,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,b.w9,b.jq,_.R]}),a})();var v=r(5415);function N(a,o){1&a&&e._UZ(0,"app-loader")}function F(a,o){if(1&a&&(e.TgZ(0,"span",28),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,null==t?null:t.lastUpdatedOn,"d/M/yyyy"))}}function Y(a,o){1&a&&(e.TgZ(0,"span",28),e._uU(1,"Nothing was last updated"),e.qZA())}function B(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"tr",22)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",23)(4,"div",24),e._UZ(5,"div",25),e.TgZ(6,"div",26)(7,"a",27)(8,"span",28),e._uU(9),e.qZA()()()()(),e.TgZ(10,"td")(11,"span",28),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span",28),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"td")(18,"span",28),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"td")(22,"span",28),e._uU(23),e.ALo(24,"date"),e.qZA()(),e.TgZ(25,"td"),e.YNc(26,F,3,4,"span",29),e.YNc(27,Y,2,0,"span",29),e.qZA(),e.TgZ(28,"td")(29,"div",30)(30,"a",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openBrancheEdit(s))}),e._UZ(31,"i",32),e.qZA(),e.TgZ(32,"a",33),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openToggleDeletemarket(s.id))}),e._UZ(33,"i",34),e.qZA(),e.TgZ(34,"a",35),e._UZ(35,"i",36),e.qZA(),e.TgZ(36,"div",37)(37,"a",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openToggleDelete(s.id))}),e._uU(38," Soft Deleted "),e.qZA()()(),e.TgZ(39,"div",39)(40,"div",40)(41,"div",41)(42,"div",42)(43,"h2",43),e._uU(44,"warning"),e.qZA(),e._UZ(45,"button",44),e.qZA(),e.TgZ(46,"div",45),e._uU(47,"Are you sure you want to soft delete your Market Medicines?"),e.qZA(),e.TgZ(48,"div",46)(49,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deletemarket())}),e._uU(50," Save changes "),e.qZA()()()()(),e.TgZ(51,"div",48)(52,"div",40)(53,"div",41)(54,"div",42)(55,"h2",43),e._uU(56,"warning"),e.qZA(),e._UZ(57,"button",44),e.qZA(),e.TgZ(58,"div",45),e._uU(59,"Are you sure you want to delete your Market Medicines ?"),e.qZA(),e.TgZ(60,"div",46)(61,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.delete())}),e._uU(62," Save changes "),e.qZA()()()()()()()}if(2&a){const t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(7),e.Oqu(null==t?null:t.storage),e.xp6(3),e.Oqu(null==t?null:t.medicineCategory),e.xp6(3),e.Oqu(e.lcZ(16,8,null==t?null:t.expirationDate)),e.xp6(4),e.Oqu(e.lcZ(20,10,null==t?null:t.availableForSale)),e.xp6(4),e.Oqu(e.xi3(24,12,null==t?null:t.createdOn,"d/M/yyyy")),e.xp6(3),e.Q6J("ngIf",null!==(null==t?null:t.lastUpdatedOn)),e.xp6(1),e.Q6J("ngIf",null===(null==t?null:t.lastUpdatedOn))}}const Q=[{path:"",component:(()=>{class a{constructor(t,i,n,s){this.fb=t,this.dialog=i,this.toaster=n,this.serv=s,this.branches=[],this.selectedPartnerId=null,this.isEdit=!1,this.loader=!1,this.dtOptions={},this.dtTrigger=new A.x,this.formPartner=this.fb.group({name:["",l.kI.required]})}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:10,searching:!0},this.dtTrigger.next(null),this.getAllBranche()}ngOnDestroy(){this.dtTrigger.unsubscribe()}getAllBranche(){this.loader=!0,this.serv.getAllMarketMedicines().subscribe(t=>{this.branches=t.content,this.loader=!1,this.dtTrigger.next(null),this.ngOnDestroy()},t=>{this.loader=!1})}openEditPartner(t){this.isEdit=!0,this.selectedPartnerId=t.id,this.formPartner.patchValue({name:t.name})}openParnter(){this.dialog.open(M,{width:"600px",height:"auto",disableClose:!0}).afterClosed().subscribe(i=>{1==i&&(this.getAllBranche(),this.dtTrigger.next(null),this.ngOnDestroy())})}openBrancheEdit(t){this.dialog.open(M,{width:"600px",height:"auto",disableClose:!0,data:t}).afterClosed().subscribe(n=>{1==n&&(this.getAllBranche(),this.dtTrigger.next(null),this.ngOnDestroy())})}openToggleDelete(t){this.idDelete=t}deletemarket(){this.loader=!0,this.serv.toggleDeletMarketMedicines(this.idDelete).subscribe(t=>{this.toaster.success("delete soft market medicines in successfully","",{progressBar:!0,timeOut:4e3,closeButton:!0});let i=new Audio;i.src="../../../assets/notification-sound/login.wav",i.load(),i.play(),this.loader=!1,this.getAllBranche(),this.ngOnDestroy(),this.dtTrigger.next(null)},t=>{this.loader=!1})}openToggleDeletemarket(t){this.idDeleteParnter=t}delete(){this.loader=!0,this.serv.DeletMarketMedicines(this.idDeleteParnter).subscribe(t=>{this.toaster.success("delete market medicines in successfully","",{progressBar:!0,timeOut:4e3,closeButton:!0});let i=new Audio;i.src="../../../assets/notification-sound/login.wav",i.load(),i.play(),this.loader=!1,this.getAllBranche(),this.ngOnDestroy(),this.dtTrigger.next(null)},t=>{this.loader=!1})}playNotificationSound(){let t=new Audio;t.src="../../../assets/notification-sound/login.wav",t.load(),t.play()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(g.uw),e.Y36(f._W),e.Y36(h))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-show-market-medicines"]],decls:38,vars:4,consts:[[4,"ngIf"],[1,"layout-wrapper","layout-content-navbar"],[1,"layout-container"],[1,"layout-page"],[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"row"],[1,"card"],[1,"card-header","border-bottom"],[1,"col-md-8","user_status"],["type","button",1,"dt-button","add-new","btn","btn-primary",3,"click"],[1,"ti","ti-plus","me-0","me-sm-1","ti-xs"],[1,"d-none","d-sm-inline-block"],[1,"card-datatable","table-responsive"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap5","no-footer"],["datatable","","id","DataTables_Table_0","aria-describedby","DataTables_Table_0_info",1,"datatables-users","table","border-top","dataTable","no-footer","dtr-column",2,"width","1214px",3,"dtOptions","dtTrigger"],["rowspan","1","colspan","1",1,"control","sorting_disabled","dtr-hidden"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","User: activate to sort column ascending","aria-sort","descending",1,"sorting","sorting_desc",2,"width","300px"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Role: activate to sort column ascending",1,"sorting",2,"width","145px"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Plan: activate to sort column ascending",1,"sorting",2,"width","96px"],["rowspan","1","colspan","1","aria-label","Actions",1,"sorting_disabled",2,"width","137px"],["class","even",4,"ngFor","ngForOf"],[1,"even"],[1,"sorting_1"],[1,"d-flex","justify-content-start","align-items-center","user-name"],[1,"avatar-wrapper"],[1,"d-flex","flex-column"],[1,"text-body","text-truncate"],[1,"fw-semibold"],["class","fw-semibold",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"text-body",3,"click"],[1,"ti","ti-edit","ti-sm","me-2"],["data-bs-toggle","modal","data-bs-target","#basicModalssss",1,"text-body","delete-record",3,"click"],[1,"ti","ti-trash","ti-sm","mx-2"],["data-bs-toggle","dropdown",1,"text-body","dropdown-toggle","hide-arrow"],[1,"ti","ti-dots-vertical","ti-sm","mx-1"],[1,"dropdown-menu","dropdown-menu-end","m-0"],["data-bs-toggle","modal","data-bs-target","#modalToggleDelete",1,"dropdown-item",3,"click"],["id","modalToggleDelete","aria-labelledby","modalToggleLabel","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",2,"border-bottom","2px outset red"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"alartWring","modal-body"],[1,"modal-footer"],["data-bs-target","#modalToggle2","data-bs-toggle","modal","data-bs-dismiss","modal",1,"btn","btn-warning","waves-effect","waves-light",3,"click"],["id","basicModalssss","aria-labelledby","modalToggleLabel","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],["data-bs-target","#modalToggle2","data-bs-toggle","modal","data-bs-dismiss","modal",1,"btn","btn-danger","waves-effect","waves-light",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,N,1,0,"app-loader",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"button",10),e.NdJ("click",function(){return i.openParnter()}),e.TgZ(11,"span"),e._UZ(12,"i",11),e.TgZ(13,"span",12),e._uU(14,"Add Name Market "),e.qZA()()()()(),e.TgZ(15,"div",13)(16,"div",14)(17,"table",15)(18,"thead")(19,"tr")(20,"th",16),e._uU(21,"ID"),e.qZA(),e.TgZ(22,"th",17),e._uU(23,"Storage"),e.qZA(),e.TgZ(24,"th",17),e._uU(25,"Medicine Category"),e.qZA(),e.TgZ(26,"th",17),e._uU(27,"Expiration Date"),e.qZA(),e.TgZ(28,"th",17),e._uU(29,"Available For Sale"),e.qZA(),e.TgZ(30,"th",18),e._uU(31,"CreatedOn"),e.qZA(),e.TgZ(32,"th",19),e._uU(33,"LastUpdatedOn"),e.qZA(),e.TgZ(34,"th",20),e._uU(35,"Actions"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,B,63,15,"tr",21),e.qZA()()()()()()()()()()()),2&t&&(e.Q6J("ngIf",i.loader),e.xp6(17),e.Q6J("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),e.xp6(20),e.Q6J("ngForOf",i.branches))},dependencies:[c.sg,c.O5,v.G,_.R,c.uU]}),a})()}];let E=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.Bz.forChild(Q),p.Bz]}),a})();var P=r(8395);let G=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.ez,E,l.UX,v.T,P.m,g.Is]}),a})()}}]);